(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpkg/goods_detail/goods_detail"],{"32be":function(t,e,o){"use strict";var n=o("cc20"),r=o.n(n);r.a},3763:function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(o.bind(null,"5dab"))},uniGoodsNav:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav")]).then(o.bind(null,"c978"))}},r=function(){var t=this.$createElement;this._self._c},a=[]},"5aa4":function(t,e,o){"use strict";o.r(e);var n=o("c8ef"),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"6c3c":function(t,e,o){"use strict";o.r(e);var n=o("3763"),r=o("5aa4");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("32be");var i=o("828b"),c=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},c8ef:function(t,e,o){"use strict";(function(t){var n=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(o("7eb4")),a=n(o("ee10")),i=n(o("7ca3")),c=o("8f59");function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){(0,i.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={computed:u(u({},(0,c.mapState)("m_cart",["cart"])),(0,c.mapGetters)("m_cart",["total"])),watch:{total:{handler:function(t){var e=this.options.find((function(t){return"购物车"===t.text}));e&&(e.info=t)},immediate:!0}},data:function(){var t;return t={goods_info:{}},(0,i.default)(t,"goods_info",{}),(0,i.default)(t,"options",[{icon:"shop",text:"店铺"},{icon:"cart",text:"购物车",info:0}]),(0,i.default)(t,"buttonGroup",[{text:"加入购物车",backgroundColor:"#ff0000",color:"#fff"},{text:"立即购买",backgroundColor:"#ffa200",color:"#fff"}]),t},onLoad:function(t){var e=t.goods_id;this.getGoodsDetail(e)},methods:u(u({},(0,c.mapMutations)("m_cart",["addToCart"])),{},(0,i.default)({buttonClick:function(t){if("加入购物车"===t.content.text){var e={goods_id:this.goods_info.goods_id,goods_name:this.goods_info.goods_name,goods_price:this.goods_info.goods_price,goods_count:1,goods_small_logo:this.goods_info.goods_small_logo,goods_state:!0};this.addToCart(e)}},onClick:function(e){"购物车"===e.content.text&&t.switchTab({url:"/pages/cart/cart"})},getGoodsDetail:function(e){var o=this;return(0,a.default)(r.default.mark((function n(){var a,i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("/api/public/v1/goods/detail",{goods_id:e});case 2:if(a=n.sent,i=a.data,200===i.meta.status){n.next=6;break}return n.abrupt("return",t.$showMsg());case 6:console.log(i),i.message.goods_introduce=i.message.goods_introduce.replace(/<img /g,'<img style="display:block;" ').replace(/webp/g,"jpg"),o.goods_info=i.message;case 9:case"end":return n.stop()}}),n)})))()},preview:function(e){t.previewImage({current:e,urls:this.goods_info.pics.map((function(t){return t.pics_big}))})}},"getGoodsDetail",(function(e){var o=this;return(0,a.default)(r.default.mark((function n(){var a,i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("/api/public/v1/goods/detail",{goods_id:e});case 2:if(a=n.sent,i=a.data,200===i.meta.status){n.next=6;break}return n.abrupt("return",t.$showMsg());case 6:o.goods_info=i.message,console.log(i);case 8:case"end":return n.stop()}}),n)})))()})))};e.default=d}).call(this,o("df3c")["default"])},cc20:function(t,e,o){},dbb7:function(t,e,o){"use strict";(function(t,e){var n=o("47a9");o("29f9");n(o("3240"));var r=n(o("6c3c"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(r.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])}},[["dbb7","common/runtime","common/vendor"]]]);